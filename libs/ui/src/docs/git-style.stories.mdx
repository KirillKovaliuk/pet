import { Meta } from '@storybook/addon-docs';

<Meta title='Documentation/Git style' />

# Git style

## Наименование веток и их назначение

`main` - является основной историей проекта. Ветка содержит стабильный и рабочий код, который готов к выпуску.

`develop` - является центральной веткой для разработки. Она используется для интеграции и тестирования новых функций,
исправлений ошибок и других изменений, прежде чем они попадут в основную ветку.

`feature/CP-xxxx`: Ветки `feature` используются для разработки новой функциональности или модулей в проекте.

`bugfix/CP-xxxx`: Ветки `bugfix` используются для исправления дефектов в проекте.

`hotfix/CP-xxxx`: Ветки для срочных исправлений критических дефектов в производственной среде. Когда возникает
критический баг, разработчик создает ветку `hotfix/CP-xxxx` от main, чтобы незамедлительно приступить к
исправлению. Ветка `hotfix` объединяется с веткой `main`, а также с веткой `develop`, чтобы изменения были включены
в следующий цикл разработки.

`release/CP-xxxx`: Ветки для подготовки и выпуска новых версий проекта.

`tech/CP-xxxx`: Ветки tech используются для обновления конфигов, написание тестов в проекте.

`docs/CP-xxxx`: Ветки docs используются для написания документации по функциональности.

Все ветки с префиксами сливаются в основные только через создание пулл реквеста, прохождение код ревью и исправление замечаний.

## Сообщение коммитов

Ветка это всего лишь подвижная ссылка на определенный коммит. Ветки удаляются и узнать в какой ветке была
разработка без доп. описания в сообщении можно только по мерж коммиту, что не всегда удобно. Для улучшения
чтения истории коммитов было принято решение писать сообщения коммитов в следущем формате:

`{тип коммита}: [{префикс проекта}-{номер задачи в системе трекинга}] {Сообщение с большой буквы, что было сделано}`

### Типы коммитов

`init` - инициализация проекта, начало задачи (сгенерировал файлы для компонента или модуля).

`feature` - новая реализованная функциональность из технического задания.

`tech` - настройка конфигов, обновление снэпшотов и т.д.

`fix` - исправление ошибки в ранее реализованной функциональности.

`refactor` - улучшение читаемости кода без изменения функциональности.

`docs` - работа с документацией (readme, storybook, swagger).

### Примеры коммитов

`init: [CP-234] Generate NavigationList component structure`

`feature: [CP-353] Add UserList component`

`tech: [CP-124] Configure nginx for development`

`fix: [CP-431] Fix markup for settings page`

`refactor: [CP-312] Refactor auth mechanism`

`docs: [CP-351] Add git style notes`

Для следования установленным правилам установлены хуки husky, которые запускают скрипты для проверки названия веток и формата сообщений коммитов.
